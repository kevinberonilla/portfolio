var windowObj=$(window),documentObj=$(document),documentBody=$(document.body),mainView=$("html, body"),isMobile=!1,mobileUserAgentString=/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i,loading;mobileUserAgentString.test(navigator.userAgent)&&(isMobile=!0,documentBody.addClass("mobile")),documentObj.ready(function(){var e=$("#contact"),o=!1;mainView.scrollTop(0),e.click(function(){o=!0}),windowObj.on("beforeunload unload pagehide",function(){o?o=!1:(mainView.scrollTop(0),documentBody.hide())})}),documentObj.ready(function(){var e=$("#portfolio li a img"),o=$("main"),t=$("#hero"),n=$("#hero .container"),i=$(".intro"),a=$(".slide-in");loading=$("#loading");var l=function(e,o){return Math.floor(Math.random()*(o-e+1)+e)};window.matchMedia("(min-width: 741px)").matches?loading.addClass("active"):o.addClass("loaded"),windowObj.load(function(){loading.removeClass("active"),e.each(function(){var e=$(this);setTimeout(function(){var o=e.closest("li");o.addClass("loaded")},l(250,750))}),setTimeout(function(){n.removeClass("closed"),setTimeout(function(){t.addClass("reveal"),i.addClass("reveal"),setTimeout(function(){a.addClass("reveal"),setTimeout(function(){i.addClass("loaded"),o.addClass("loaded")},500)},250)},500)},1e3)})}),documentObj.ready(function(){var e=$("#portfolio"),o=$(".drop-down"),t=$(".options"),n=$(".options li"),i=$("#selected"),a=$("html");e.isotope({itemSelector:".project",layoutMode:"fitRows",transitionDuration:"0.25s"});var l=function(o){e.isotope("all"===o?{filter:"*"}:{filter:"."+o})};o.click(function(e){e.stopPropagation(),t.toggleClass("open")}),n.click(function(){var e=$(this).attr("class"),o=$(this).html();i.html(o),l(e)}),a.click(function(){t.hasClass("open")&&t.removeClass("open")})}),documentObj.ready(function(){var e=$("header"),o=$("#portfolio li a"),t=$("#project"),n=window.location.hash,i=function(){$("#project .project-content .images ul").lightSlider({adaptiveHeight:!0,speed:250,item:1,slideMargin:15,loop:!1,pager:!0,galleryMargin:30,keyPress:!0})},a=function(o){var n=o.replace(/#/,"").replace("!","");e.addClass("open"),documentBody.addClass("disable-scroll"),setTimeout(function(){loading.addClass("active"),t.load("projects/"+n+".php",function(o,t){"error"===t&&(e.removeClass("open"),documentBody.removeClass("disable-scroll"),alert("The requested project could not be found. If you feel you have received this message in error, please contact me at kevin.beronilla@gmail.com and I will look into the issue."),loading.removeClass("active"))})},250),documentObj.ajaxComplete(function(){function o(){l.length||i(),c.tooltipster({animation:"grow",position:"bottom",delay:0,speed:250,theme:"tooltipster-default",touchDevices:!0,trigger:"hover"})}function n(e){27===e.keyCode&&d.hasClass("active")&&a()}function a(){u.unbind(),documentObj.unbind("keyup",n),loading.removeClass("active"),e.removeClass("open"),documentBody.removeClass("disable-scroll"),d.removeClass("active"),r.removeClass("active"),e.animate({scrollTop:0,easing:"ease"},250),setTimeout(function(){t.empty()},250)}var l=$(".lSSlideOuter"),c=$(".tooltip"),s=$("#project img"),d=$(".project-hero"),r=$(".project-content"),u=$("#close-btn");$.when(o()).done(function(){var e=0,o=s.length;s.load(function(){function t(){setTimeout(function(){d.addClass("active")},350)}e++,e===o&&(loading.removeClass("active"),$.when(t()).done(function(){setTimeout(function(){r.addClass("active")},250)}))})}),u.click(function(e){e.preventDefault(),a()}),e.click(function(e){e.target===this&&d.hasClass("active")&&a()}),documentObj.keyup(n)})};n&&windowObj.load(function(){a(n)}),o.click(function(e){var o=$(this).attr("href");e.preventDefault(),a(o)}),documentBody.on("click","#info-btn",function(e){e.preventDefault(),$(this).toggleClass("active"),$(".project-content .notes").slideToggle(250)})}),documentObj.ready(function(){var e=$(".logo");e.click(function(){mainView.animate({scrollTop:0,easing:"ease"},100)})}),documentObj.ready(function(){var e=$(".mobile-menu"),o=$("header h1, header nav");e.click(function(){e.toggleClass("active"),o.toggleClass("switch")})}),documentObj.ready(function(){$(".background-cover").backgroundCover()});